<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">

<h:head>
    <meta charset="UTF-8" />
    <title>Formulario de Compra - Deportes 360</title>
    <link rel="icon" type="image/png" href="#{resource['images/Re.png']}" />
    <h:outputStylesheet library="css" name="formulario.css" />
</h:head>

<h:body>
    
    <f:metadata>
        <f:viewAction action="#{ventaBean.inicializar}" />
    </f:metadata>

    <div class="formulario-container">

        <h2>üìù Finalizar compra</h2>

        <h:form id="formCompra">

            <!-- üîπ Mensajes globales -->
            <h:messages globalOnly="true" layout="table" />

            <label for="cantProducto">Cantidad de productos:</label>
            <h:inputText id="cantProducto"
                         value="#{ventaBean.cantProducto}"
                         readonly="true">
                <f:convertNumber integerOnly="true" />
            </h:inputText>

            <label for="metodoEnvio">M√©todo de env√≠o:</label>
            <h:selectOneMenu id="metodoEnvio"
                             value="#{ventaBean.metodoEnvio}"
                             required="true">
                <f:selectItem itemValue="domicilio" itemLabel="Domicilio" />
            </h:selectOneMenu>

            <label for="totalVenta">Total de la venta:</label>
            <h:inputText id="totalVenta"
                         value="#{ventaBean.totalVenta}"
                         readonly="true">
                <f:convertNumber />
            </h:inputText>

            <label for="metodoPago">M√©todo de pago:</label>
            <h:selectOneMenu id="metodoPago"
                             value="#{ventaBean.metodoPago}"
                             required="true">
                <f:selectItem itemValue="" itemLabel="Seleccionar..." />
                <f:selectItem itemValue="efectivo" itemLabel="Efectivo" />
                <f:selectItem itemValue="tarjeta" itemLabel="Tarjeta" />
                <f:selectItem itemValue="transferencia" itemLabel="Transferencia" />
            </h:selectOneMenu>

            <!-- üîπ Nuevos campos -->
            <label for="direccionEnvio">Direcci√≥n de env√≠o:</label>
            <h:inputText id="direccionEnvio"
                         value="#{ventaBean.direccionEnvio}"
                         required="true" />

            <label for="telefonoContacto">Tel√©fono de contacto:</label>
            <h:inputText id="telefonoContacto"
                         value="#{ventaBean.telefonoContacto}"
                         required="true" />

            <label for="observaciones">Observaciones:</label>
            <h:inputTextarea id="observaciones"
                             value="#{ventaBean.observaciones}"
                             rows="3" cols="30" />

            <h:commandButton value="Confirmar compra"
                             action="#{ventaBean.guardarVenta}" />

        </h:form>

    </div>
    <a href="carrito.xhtml" class="btn-volver-home">Volver</a>

</h:body>
</html>
